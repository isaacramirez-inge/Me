---
import Welcome from '../../components/Welcome.astro';
import Layout from '../../layouts/Layout.astro';

import en from '../../i18n/en-us.json';
import es from '../../i18n/es-es.json';
import sv from '../../i18n/es-sv.json';

type Locale = 'en-us' | 'es-es' | 'es-sv';

type Translations = {
  title: string;
  description: string;
};

const translations: Record<Locale, Translations> = {
  'en-us': en,
  'es-es': es,
  'es-sv': sv
};

export async function getStaticPaths() {
  return [
    { params: { lang: 'en-us' } },
    { params: { lang: 'es-es' } },
    { params: { lang: 'es-sv' } },
  ];
}

const { lang } = Astro.params as { lang: string };
const locale = (lang.toLowerCase() as Locale) ?? 'en-us';
const t = translations[locale] ?? en;
---

<Layout title={t.title}>
  <Welcome t={t} />
</Layout>
