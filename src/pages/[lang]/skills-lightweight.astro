---
import Layout from '../../layouts/MainLayout.astro';
import { getTranslation, getStaticPaths } from '../../i18n';
import { metrics } from '../../assets/metrics/metrics.ts';
import technologiesData from '../../assets/data/technologies.json';
import timelineData from '../../assets/data/timeline.json';
import CategoryDistributionChart from '../../components/charts/lightweight/CategoryDistributionChart';
import TechnologyProficiencyChart from '../../components/charts/lightweight/TechnologyProficiencyChart';
import FrontendBackendFocusChart from '../../components/charts/lightweight/FrontendBackendFocusChart';
import TechUsageOverTimeChart from '../../components/charts/lightweight/TechUsageOverTimeChart';
import ProjectsPerYearChart from '../../components/charts/lightweight/ProjectsPerYearChart';
import ImplementationTypeChart from '../../components/charts/lightweight/ImplementationTypeChart';

export { getStaticPaths };

const { lang } = Astro.params as { lang: string };
const t = getTranslation(lang.toLocaleLowerCase());
---

<Layout title="Skills (Lightweight Charts)" t={t} lang={lang} m={metrics}>
  <div class="container mx-auto px-4 py-8 text-white">
    <h1 class="text-3xl font-bold">Skills Dashboard: Lightweight Charts</h1>
    <p class="mt-4">This page contains charts built with Lightweight Charts, adapted to its financial-focused series types.</p>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8">
      <div>
        <h2 class="text-2xl font-semibold mb-4">Technology Distribution by Category</h2>
        <CategoryDistributionChart client:load technologies={technologiesData} />
      </div>
      <div>
        <h2 class="text-2xl font-semibold mb-4">Frontend vs. Backend Focus</h2>
        <FrontendBackendFocusChart client:load technologies={technologiesData} />
      </div>
      <div>
        <h2 class="text-2xl font-semibold mb-4">Projects Per Year</h2>
        <ProjectsPerYearChart client:load timeline={timelineData} />
      </div>
      <div>
        <h2 class="text-2xl font-semibold mb-4">Project Implementation Type</h2>
        <ImplementationTypeChart client:load timeline={timelineData} />
      </div>
    </div>

    <div class="mt-8">
      <h2 class="text-2xl font-semibold mb-4">Technology Proficiency (by Project Count)</h2>
      <TechnologyProficiencyChart client:load technologies={technologiesData} timeline={timelineData} />
    </div>

    <div class="mt-8">
      <h2 class="text-2xl font-semibold mb-4">Technology Usage Over Time</h2>
      <TechUsageOverTimeChart client:load technologies={technologiesData} timeline={timelineData} />
    </div>

  </div>
</Layout>
